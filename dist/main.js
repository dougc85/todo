(()=>{"use strict";const e={renderProjects(e){const t=document.querySelector(".project-container");for(;t.firstChild;)t.removeChild(t.firstChild);e.forEach((e=>{const d=document.createElement("div");d.classList.add("project"),d.dataset.id=e.id;const s=document.createElement("div");s.classList.add("edit-project"),s.textContent="Edit",s.addEventListener("click",e.edit.bind(e));const n=document.createElement("div");n.classList.add("delete-project"),n.textContent="x",n.addEventListener("click",e.delete.bind(e));const c=document.createElement("p");c.classList.add("project-paragraph"),c.textContent=e.name,e.selected?c.addEventListener("click",e.close.bind(e)):c.addEventListener("click",e.open.bind(e,d,c)),e.selected&&(s.classList.add("project-selected"),n.classList.add("project-selected"),d.classList.add("project-selected")),d.appendChild(s),d.appendChild(n),d.appendChild(c),t.appendChild(d)}))},renderTasks(e){const t=document.querySelector(".task-container");for(;t.firstChild;)t.removeChild(t.firstChild);e.forEach((e=>{const d=document.createElement("div");d.classList.add("task-wrapper");const s=document.createElement("div");s.classList.add("green-screen","hidden");const n=document.createElement("div");n.classList.add("task");const c=document.createElement("div");c.classList.add("edit-task"),c.textContent="Edit";const i=document.createElement("div");i.classList.add("delete-task"),i.textContent="Delete";const o=document.createElement("div");o.classList.add("checkbox");const a=document.createElement("div");a.classList.add("x","hidden"),o.appendChild(a);const l=document.createElement("div");l.classList.add("item-containers","title-descr-container");const r=document.createElement("h4");r.classList.add("top-task"),r.textContent=e.name,l.appendChild(r);const m=document.createElement("p");m.classList.add("bottom-task"),m.textContent=e.description,l.appendChild(m);const u=document.createElement("div");u.classList.add("item-containers","due-container");const p=document.createElement("div");p.classList.add("date","top-task"),p.textContent=e.due,u.appendChild(p);const v=document.createElement("p");v.classList.add("bottom-task","due-p"),v.textContent="Due",u.appendChild(v);const h=document.createElement("div");h.classList.add("item-containers","priority-container");const L=document.createElement("div");L.classList.add("priority","top-task"),h.appendChild(L);const k=document.createElement("p");k.classList.add("bottom-task","priority-p"),k.textContent="Priority",h.appendChild(k),n.appendChild(c),n.appendChild(i),n.appendChild(o),n.appendChild(l),n.appendChild(u),n.appendChild(h),d.appendChild(s),d.appendChild(n),t.appendChild(d)}))}},t=document.querySelector(".screen-cover"),d=document.querySelector(".project-form"),s=document.querySelector(".task-form"),n=document.querySelector(".project-input"),c=document.querySelector(".name-input"),i=document.querySelector(".description-input"),o=document.querySelector(".due-input"),a=document.querySelector(".priority-input"),l=document.querySelector(".add-project"),r=document.querySelector(".add-task");let m,u=[],p=0,v="none";console.log("ldlkm");const h=s=>(p+=1,k.bind(void 0),{name:s,tasks:[],selected:!0,id:p,delete(){let t=u.indexOf(this);u.splice(t,1),e.renderProjects(u)},edit(){m=k.bind(this),n.value=this.name,t.classList.toggle("hidden"),d.classList.toggle("hidden"),document.addEventListener("keydown",m),document.addEventListener("click",g)},open(t,d){t.removeChild(d),u.forEach((e=>{e.selected&&e.close()}));const s=document.createElement("p");s.classList.add("project-paragraph"),s.textContent=this.name,s.addEventListener("click",this.close.bind(this)),t.appendChild(s),t.classList.add("project-selected"),t.firstChild.classList.add("project-selected"),t.firstChild.nextSibling.classList.add("project-selected"),this.selected=!0,v=this,document.querySelector(".tasks-header").textContent=this.name+" - Tasks",e.renderTasks(this.tasks)},close(){const t=document.querySelector(`[data-id='${this.id}']`);let d=t.querySelector(".project-paragraph");t.removeChild(d);const s=document.createElement("p");s.classList.add("project-paragraph"),s.textContent=this.name,s.addEventListener("click",this.open.bind(this,t,s)),t.appendChild(s),t.classList.remove("project-selected"),t.firstChild.classList.remove("project-selected"),t.firstChild.nextSibling.classList.remove("project-selected"),this.selected=!1,v="",document.querySelector(".tasks-header").textContent="Select Project to View Tasks",e.renderTasks([])}}),L=e=>{e.sort(((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1))};function k(s){if("Enter"===s.key){document.removeEventListener("click",g),document.removeEventListener("keydown",m),t.classList.toggle("hidden"),d.classList.toggle("hidden");let s=u.indexOf(this);u[s].name=n.value,L(u),e.renderProjects(u),n.value=""}else"Escape"===s.key&&(document.removeEventListener("click",g),document.removeEventListener("keydown",m),t.classList.toggle("hidden"),d.classList.toggle("hidden"),n.value="")}const E=s=>{if("Enter"===s.key){document.removeEventListener("click",g),document.removeEventListener("keydown",E),t.classList.toggle("hidden"),d.classList.toggle("hidden");const s=h(n.value);v=s,u.forEach((e=>{e.selected=!1})),u.push(s),L(u),document.querySelector(".tasks-header").textContent=s.name+" - Tasks",e.renderProjects(u),n.value="",e.renderTasks(s.tasks)}else"Escape"===s.key&&(document.removeEventListener("click",g),document.removeEventListener("keydown",E),t.classList.toggle("hidden"),d.classList.toggle("hidden"),n.value="")},g=e=>{e.target===t&&(document.removeEventListener("click",g),document.removeEventListener("keydown",E),t.classList.toggle("hidden"),d.classList.toggle("hidden"),n.value="")},C=d=>{if("Enter"===d.key){document.removeEventListener("click",y),document.removeEventListener("keydown",C),t.classList.toggle("hidden"),s.classList.toggle("hidden");const d=o.value.slice(0,2),n="0"===o.value[5]?o.value.slice(6,7):o.value.slice(5,7),l="0"===o.value[8]?o.value.slice(9):o.value.slice(8),r=((e,t,d,s)=>({name:e,description:t,due:d,priority:s,active:!0,delete(){},edit(){}}))(c.value,i.value,n+"/"+l+"/"+d,a.value);v.tasks.push(r),c.value="",i.value="",o.value="",a.value="lowest",e.renderTasks(v.tasks)}else"Escape"===d.key&&(document.removeEventListener("click",y),document.removeEventListener("keydown",C),t.classList.toggle("hidden"),s.classList.toggle("hidden"),console.log(o.value),c.value="",i.value="",o.value="",a.value="lowest")},y=e=>{e.target===t&&(document.removeEventListener("click",y),document.removeEventListener("keydown",C),t.classList.toggle("hidden"),s.classList.toggle("hidden"),console.log(o.value),c.value="",i.value="",o.value="",a.value="lowest")};l.addEventListener("click",(e=>{t.classList.toggle("hidden"),d.classList.toggle("hidden"),document.addEventListener("keydown",E),document.addEventListener("click",g)})),r.addEventListener("click",(e=>{t.classList.toggle("hidden"),s.classList.toggle("hidden"),document.addEventListener("keydown",C),document.addEventListener("click",y)}))})();