(()=>{"use strict";const e={renderProjects(e){const t=document.querySelector(".project-container");for(;t.firstChild;)t.removeChild(t.firstChild);e.forEach((e=>{const s=document.createElement("div");s.classList.add("project"),s.dataset.id=e.id;const d=document.createElement("div");d.classList.add("edit-project"),d.textContent="Edit",d.addEventListener("click",e.edit.bind(e));const n=document.createElement("div");n.classList.add("delete-project"),n.textContent="x",n.addEventListener("click",e.delete.bind(e));const c=document.createElement("p");c.classList.add("project-paragraph"),c.textContent=e.name,e.selected?c.addEventListener("click",e.close.bind(e)):c.addEventListener("click",e.open.bind(e,s,c)),e.selected&&(d.classList.add("project-selected"),n.classList.add("project-selected"),s.classList.add("project-selected")),s.appendChild(d),s.appendChild(n),s.appendChild(c),t.appendChild(s)}));const s=document.createElement("div");s.classList.add("margin-fixer-projects"),s.textContent="margin",t.appendChild(s)},renderTasks(e){const t=document.querySelector(".task-container");for(;t.firstChild;)t.removeChild(t.firstChild);e.forEach((e=>{const s=document.createElement("div");s.classList.add("task-wrapper");const d=document.createElement("div");d.classList.add("green-screen"),e.active&&d.classList.add("hidden");const n=document.createElement("div");n.classList.add("task");const c=document.createElement("div");c.classList.add("edit-task"),c.textContent="Edit";const i=document.createElement("div");i.classList.add("delete-task"),i.textContent="Delete";const a=document.createElement("div");a.classList.add("checkbox");const o=document.createElement("div");o.classList.add("x"),o.textContent="x",e.active&&o.classList.add("hidden"),a.appendChild(o),a.addEventListener("click",e.activeSwitch.bind(e,d,o));const l=document.createElement("div");l.classList.add("item-containers","title-descr-container");const r=document.createElement("h4");r.classList.add("top-task"),r.textContent=e.name,l.appendChild(r);const u=document.createElement("p");u.classList.add("bottom-task"),u.textContent=e.description,l.appendChild(u);const m=document.createElement("div");m.classList.add("item-containers","due-container");const v=document.createElement("div");v.classList.add("date","top-task"),v.textContent=e.due,m.appendChild(v);const p=document.createElement("p");p.classList.add("bottom-task","due-p"),p.textContent="Due",m.appendChild(p);const h=document.createElement("div");h.classList.add("item-containers","priority-container");const L=document.createElement("div");L.classList.add("priority","top-task",`priority-${e.priority}`),h.appendChild(L);const k=document.createElement("p");k.classList.add("bottom-task","priority-p"),k.textContent=e.priority[0].toUpperCase()+e.priority.slice(1),h.appendChild(k),n.appendChild(c),n.appendChild(i),n.appendChild(a),n.appendChild(l),n.appendChild(m),n.appendChild(h),s.appendChild(d),s.appendChild(n),t.appendChild(s)}));const s=document.createElement("div");s.classList.add("margin-fixer-tasks"),s.textContent="margin",t.appendChild(s)}},t=document.querySelector(".screen-cover"),s=document.querySelector(".project-form"),d=document.querySelector(".task-form"),n=document.querySelector(".project-input"),c=document.querySelector(".name-input"),i=document.querySelector(".description-input"),a=document.querySelector(".due-input"),o=document.querySelector(".priority-input"),l=document.querySelector(".add-project"),r=document.querySelector(".add-task");let u,m=[],v=0,p="";const h=d=>(v+=1,y.bind(void 0),{name:d,tasks:[],selected:!0,id:v,delete(){let t=m.indexOf(this);m.splice(t,1),e.renderProjects(m),p.id===this.id&&(p="",0===m.length?document.querySelector(".tasks-header").innerHTML="Start by adding a project.<br> You must have a project selected in order to add tasks.":document.querySelector(".tasks-header").textContent="Select Project to View or Add Tasks",e.renderTasks([]))},edit(){u=y.bind(this),n.value=this.name,t.classList.toggle("hidden"),s.classList.toggle("hidden"),document.addEventListener("keydown",u),document.addEventListener("click",j)},open(t,s){t.removeChild(s),m.forEach((e=>{e.selected&&e.close()}));const d=document.createElement("p");d.classList.add("project-paragraph"),d.textContent=this.name,d.addEventListener("click",this.close.bind(this)),t.appendChild(d),t.classList.add("project-selected"),t.firstChild.classList.add("project-selected"),t.firstChild.nextSibling.classList.add("project-selected"),this.selected=!0,p=this,document.querySelector(".tasks-header").textContent=this.name+" - Tasks",e.renderTasks(this.tasks)},close(){const t=document.querySelector(`[data-id='${this.id}']`);let s=t.querySelector(".project-paragraph");t.removeChild(s);const d=document.createElement("p");d.classList.add("project-paragraph"),d.textContent=this.name,d.addEventListener("click",this.open.bind(this,t,d)),t.appendChild(d),t.classList.remove("project-selected"),t.firstChild.classList.remove("project-selected"),t.firstChild.nextSibling.classList.remove("project-selected"),this.selected=!1,p="",document.querySelector(".tasks-header").textContent="Select Project to View or Add Tasks",e.renderTasks([])}}),L=(t,s,d,n,c,i,a,o)=>({project:t,name:s,description:d,due:n,month:i,day:a,year:o,priority:c,active:!0,activeSwitch(t,s){this.active=!this.active,t.classList.toggle("hidden"),s.classList.toggle("hidden"),E(p.tasks),e.renderTasks(p.tasks)},delete(){},edit(){}}),k=e=>{e.sort(((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1))},g={lowest:1,low:2,medium:3,high:4,highest:5},E=e=>{e.sort(((e,t)=>e.active!==t.active?e.active?-1:1:g[e.priority]!==g[t.priority]?g[t.priority]-g[e.priority]:e.due===t.due?e.name.toLowerCase()<t.name.toLowerCase()?-1:1:e.year!==t.year?parseInt(e.year)-parseInt(t.year):e.month!==t.month?e.month-t.month:e.day!==t.day?e.day-t.day:void 0))};function y(d){if("Enter"===d.key){document.removeEventListener("click",j),document.removeEventListener("keydown",u),t.classList.toggle("hidden"),s.classList.toggle("hidden");let d=m.indexOf(this);m[d].name=n.value,k(m),e.renderProjects(m),n.value=""}else"Escape"===d.key&&(document.removeEventListener("click",j),document.removeEventListener("keydown",u),t.classList.toggle("hidden"),s.classList.toggle("hidden"),n.value="")}const C=d=>{if("Enter"===d.key){document.removeEventListener("click",j),document.removeEventListener("keydown",C),t.classList.toggle("hidden"),s.classList.toggle("hidden");const d=h(n.value);p=d,m.forEach((e=>{e.selected=!1})),m.push(d),k(m),document.querySelector(".tasks-header").textContent=d.name+" - Tasks",e.renderProjects(m),n.value="",e.renderTasks(d.tasks)}else"Escape"===d.key&&(document.removeEventListener("click",j),document.removeEventListener("keydown",C),t.classList.toggle("hidden"),s.classList.toggle("hidden"),n.value="")},j=e=>{e.target===t&&(document.removeEventListener("click",j),document.removeEventListener("keydown",C),t.classList.toggle("hidden"),s.classList.toggle("hidden"),n.value="")},x=s=>{if("Enter"===s.key){if(""===c.value||""===i.value||""===a.value||"select one"===o.value)return;document.removeEventListener("click",f),document.removeEventListener("keydown",x),t.classList.toggle("hidden"),d.classList.toggle("hidden");const s=a.value.slice(2,4),n="0"===a.value[5]?a.value.slice(6,7):a.value.slice(5,7),l="0"===a.value[8]?a.value.slice(9):a.value.slice(8),r=L(p.id,c.value,i.value,n+"/"+l+"/"+s,o.value,n,l,s);p.tasks.push(r),E(p.tasks),c.value="",i.value="",a.value="",o.value="select one",e.renderTasks(p.tasks)}else"Escape"===s.key&&(document.removeEventListener("click",f),document.removeEventListener("keydown",x),t.classList.toggle("hidden"),d.classList.toggle("hidden"),c.value="",i.value="",a.value="",o.value="select one")},f=s=>{if(s.preventDefault(),s.target===document.querySelector(".submit-button")){if(""===c.value||""===i.value||""===a.value||"select one"===o.value)return;document.removeEventListener("click",f),document.removeEventListener("keydown",x),t.classList.toggle("hidden"),d.classList.toggle("hidden");const s=a.value.slice(2,4),n="0"===a.value[5]?a.value.slice(6,7):a.value.slice(5,7),l="0"===a.value[8]?a.value.slice(9):a.value.slice(8),r=L(p.id,c.value,i.value,n+"/"+l+"/"+s,o.value,n,l,s);p.tasks.push(r),E(p.tasks),c.value="",i.value="",a.value="",o.value="select one",e.renderTasks(p.tasks)}else s.target===t&&(document.removeEventListener("click",f),document.removeEventListener("keydown",x),t.classList.toggle("hidden"),d.classList.toggle("hidden"),c.value="",i.value="",a.value="",o.value="select one")};l.addEventListener("click",(e=>{t.classList.toggle("hidden"),s.classList.toggle("hidden"),document.addEventListener("keydown",C),document.addEventListener("click",j)})),r.addEventListener("click",(e=>{""!==p&&(t.classList.toggle("hidden"),d.classList.toggle("hidden"),document.addEventListener("keydown",x),document.addEventListener("click",f))}))})();